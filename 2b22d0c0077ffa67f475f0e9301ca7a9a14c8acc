{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "dcb8b0ce_32a0b273",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-01-25T10:07:32Z",
      "side": 1,
      "message": "Not able to download the Gerrit plugin sources with Java 11 (openjdk full version \"11.0.17+0\"):\n\n[error] lmcoursier.internal.shaded.coursier.error.FetchError$DownloadingArtifacts: Error fetching artifacts:\n[error] file:/Users/lucamilanesio/.m2/repository/com/google/gerrit/gerrit-plugin-api/3.7.0-rc3/gerrit-plugin-api-3.7.0-rc3-sources.jar: not found: /Users/lucamilanesio/.m2/repository/com/google/gerrit/gerrit-plugin-api/3.7.0-rc3/gerrit-plugin-api-3.7.0-rc3-sources.jar\n[error]\n[error] \tat lmcoursier.internal.shaded.coursier.Artifacts$.$anonfun$fetchArtifacts$9(Artifacts.scala:365)\n[error] \tat lmcoursier.internal.shaded.coursier.util.Task$.$anonfun$flatMap$extension$1(Task.scala:14)\n[error] \tat lmcoursier.internal.shaded.coursier.util.Task$.$anonfun$flatMap$extension$1$adapted(Task.scala:14)\n[error] \tat lmcoursier.internal.shaded.coursier.util.Task$.wrap(Task.scala:82)\n[error] \tat lmcoursier.internal.shaded.coursier.util.Task$.$anonfun$flatMap$2(Task.scala:14)\n[error] \tat scala.concurrent.Future.$anonfun$flatMap$1(Future.scala:307)\n[error] \tat scala.concurrent.impl.Promise.$anonfun$transformWith$1(Promise.scala:41)\n[error] \tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\n[error] \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n[error] \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n[error] \tat java.base/java.lang.Thread.run(Thread.java:829)\n[error] Caused by: lmcoursier.internal.shaded.coursier.cache.ArtifactError$NotFound: not found: /Users/lucamilanesio/.m2/repository/com/google/gerrit/gerrit-plugin-api/3.7.0-rc3/gerrit-plugin-api-3.7.0-rc3-sources.jar\n[error] \tat lmcoursier.internal.shaded.coursier.cache.internal.Downloader.$anonfun$checkFileExists$1(Downloader.scala:590)\n[error] \tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\n[error] \tat scala.util.Success.$anonfun$map$1(Try.scala:255)\n[error] \tat scala.util.Success.map(Try.scala:213)\n[error] \tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\n[error] \tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\n[error] \tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\n[error] \tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\n[error] \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n[error] \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n[error] \tat java.base/java.lang.Thread.run(Thread.java:829)\n[error] (update) lmcoursier.internal.shaded.coursier.error.FetchError$DownloadingArtifacts: Error fetching artifacts:\n[error] file:/Users/lucamilanesio/.m2/repository/com/google/gerrit/gerrit-plugin-api/3.7.0-rc3/gerrit-plugin-api-3.7.0-rc3-sources.jar: not found: /Users/lucamilanesio/.m2/repository/com/google/gerrit/gerrit-plugin-api/3.7.0-rc3/gerrit-plugin-api-3.7.0-rc3-sources.jar\n[error] Total time: 2 s, completed 25 Jan 2023, 10:04:41",
      "revId": "2b22d0c0077ffa67f475f0e9301ca7a9a14c8acc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4513cdc_d4fc34cc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-01-26T17:48:34Z",
      "side": 1,
      "message": "It actually builds successfully for me:\n\n```\nâžœ  analytics git:(2b22d0c) java -fullversion\nopenjdk full version \"11.0.12+0\"\n```\n\nThe gerrit 3.7-rc3 sources are downloaded correctly by coursier\n\n```\n[...]\nhttps://repo1.maven.org/maven2/com/google/gerrit/gerrit-plugin-api/3.7.0-rc3/gerrit-plugin-api-3.7.0-rc3.pom\n  100.0% [##########] 2.8 KiB (17.4 KiB / s)\n[...]\n```\n\n@luca, it looks like your output just shows an attempt to fetch the sources from maven (.m2) dir?",
      "parentUuid": "dcb8b0ce_32a0b273",
      "revId": "2b22d0c0077ffa67f475f0e9301ca7a9a14c8acc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "edfc1ed9_64950eb3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1155610
      },
      "writtenOn": "2023-01-26T18:39:21Z",
      "side": 1,
      "message": "yeah that\u0027s what we where confused by as well in the office, why it didn\u0027t try to download from maven.\nCurrently I\u0027ve got 2 options:\n- Either internet connection had a micro-bleep when we tried this and couldn\u0027t connect? (But assume it would show an error pulling from maven still).\n- Maybe something to do with odd SBT configs on a particular machine? Maybe it\u0027s worth including an SBT wrapper such as [sbt-extras](https://github.com/dwijnand/sbt-extras) to ensure these is not the case.",
      "parentUuid": "a4513cdc_d4fc34cc",
      "revId": "2b22d0c0077ffa67f475f0e9301ca7a9a14c8acc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cccead76_a43bc330",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1155610
      },
      "writtenOn": "2023-01-27T14:54:22Z",
      "side": 1,
      "message": "Ok, we seem to have found the issue. In build.sbt we add `resolvers +\u003d Resolver.mavenLocal`, removing that seems to make it work on @luca.milanesio@gmail.com\u0027s laptop. \nI\u0027m now unsure why it works on our machines @syntonyze@gmail.com.\nI struggle to see why this would be needed though, could it be a leftover from some previous testing?",
      "parentUuid": "edfc1ed9_64950eb3",
      "revId": "2b22d0c0077ffa67f475f0e9301ca7a9a14c8acc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e632068c_af0b21ca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-01-27T15:36:38Z",
      "side": 1,
      "message": "This test is failing:\n```\ncom.googlesource.gerrit.plugins.analytics.test.ContributorsServiceSpec\n```",
      "revId": "2b22d0c0077ffa67f475f0e9301ca7a9a14c8acc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31f2c79a_931c19a4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-01-27T16:57:50Z",
      "side": 1,
      "message": "AFAIK `resolvers +\u003d Resolver.mavenLocal` _adds_ a resolver, so it should still cascade looking in the maven repo.\n\nI believe that is there to allow compiling against gerrit APIs that haven\u0027t been released (i.e. running `/tools/maven/api.sh install` publishes the `SNAPSHOT` api to local maven).\n\nit was introduced by @luca.milanesio@gmail.com here [1]\n\n\n[1]https://gerrit-review.googlesource.com/c/plugins/analytics/+/196071",
      "parentUuid": "cccead76_a43bc330",
      "revId": "2b22d0c0077ffa67f475f0e9301ca7a9a14c8acc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}